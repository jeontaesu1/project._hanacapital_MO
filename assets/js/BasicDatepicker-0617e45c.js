import{q as T,s as L,v as m,b as U,a as V,r as W,j as $,w as h,k as G,l as Q,J as w,E as X,x as p,C as Y,K as A,D as Z,n as E}from"./vue-cbac8c5d.js";import{_ as ee,p as te}from"./index-d465e452.js";const ne={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"};function se(n,d){return T(),L("svg",ne,d[0]||(d[0]=[m("path",{fill:"#9E9E9E","fill-rule":"evenodd",d:"M17 8H7a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1M7 6a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3z","clip-rule":"evenodd"},null,-1),m("path",{fill:"#9E9E9E","fill-rule":"evenodd",d:"M5 10a1 1 0 1 0 0 2h14a1 1 0 1 0 0-2z","clip-rule":"evenodd"},null,-1),m("path",{fill:"#9E9E9E",d:"M7 4.5a1 1 0 0 1 2 0v2a1 1 0 0 1-2 0zM15 4.5a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0z"},null,-1)]))}const le={render:se},ae="_input_658nv_1",ie="_input__dummy_658nv_5",ue="_input__text_658nv_9",ce="_input__icon_658nv_18",oe="_input__delete_658nv_94",de={input:ae,input__dummy:ie,input__text:ue,input__icon:ce,"input--disabled":"_input--disabled_658nv_32","input--align-right":"_input--align-right_658nv_38","is-date-picker-animated":"_is-date-picker-animated_658nv_77","input--direction-right":"_input--direction-right_658nv_90",input__delete:oe,"input__delete-text":"_input__delete-text_658nv_141","input--focus":"_input--focus_658nv_159","input--inputed":"_input--inputed_658nv_159"},z=()=>({wrap:"",dummy:"",text:"",icon:"",isdelete:"",deleteText:""}),re={inheritAttrs:!1,components:{IconCalendar:le,IconDelete:te},props:{classNames:{Type:Object,default(){return z()}},title:{Type:String,default:null},id:{Type:String,default:null},buttonId:{Type:String,default:null},align:{Type:String,default:null},disabled:{Type:Boolean,default:!1},defaultValue:{Type:String,default:null},min:{Type:String,default:null},max:{Type:String,default:null},direction:{Type:String,default:"left"},onInit:{Type:Function,default(){return()=>{}}},onChange:{Type:Function,default(){return()=>{}}},pickerBlur:{Type:Function,default(){return()=>{}}},pickerChange:{Type:Function,default(){return()=>{}}},pickerFocus:{Type:Function,default(){return()=>{}}},pickerOpen:{Type:Function,default(){return()=>{}}},pickerClose:{Type:Function,default(){return()=>{}}},modelValue:{Type:String},isDelete:{Type:String,default:null}},setup(n,{emit:d}){const u=/^(\d{4})\.(\d{2})\.(\d{2})$/,o=new Event("change");let f=null;const s=U({val:"",element:null,date:null}),a=V("formListItem",{}),r=V("inputBlock",{}),_=W(null),j=$(()=>{const{classNames:e}=n;return Object.assign(z(),e)}),N=e=>{const{element:t}=s,i=t.getElementsByClassName("duet-date__toggle")[0],l=typeof e=="string"?e:"";i&&i.setAttribute("id",l)},g=(e=!1)=>{const{element:t}=s;[...t.querySelectorAll(".duet-date__select select")].forEach(l=>{l&&(e?(l.disabled=!0,l.setAttribute("aria-hidden","true"),l.setAttribute("inert","")):(l.disabled=!1,l.removeAttribute("aria-hidden"),l.removeAttribute("inert")))})},F=(e=()=>{})=>{const t=document.getElementsByTagName("html")[0];t.classList.add("is-date-picker-animated"),clearTimeout(f),f=setTimeout(function(){clearTimeout(f),t.classList.remove("is-date-picker-animated"),e()},300)},q=()=>s.element,H=()=>s.val,K=()=>s.date,y=e=>{if(e===s.val)return;const{element:t}=s;if(!e||!e.length){t.value="",s.val="",s.date=null,d("update:modelValue",""),E(()=>{t.dispatchEvent(o),a&&a.checkInputed&&a.checkInputed()});return}const i=e.replace(/\./g,"-"),l=e.match(u);t.value=i,s.val=e,l?s.date=new Date(Number(l[1]),Number(l[2])-1,Number(l[3])):s.date=null,d("update:modelValue",e),E(()=>{t.dispatchEvent(o),a&&a.checkInputed&&a.checkInputed()})},b=e=>{const{element:t}=s;if(!e||!e.length){t.min="";return}const i=e.replace(/\./g,"-");t.min=i},k=e=>{const{element:t}=s;if(!e||!e.length){t.max="";return}const i=e.replace(/\./g,"-");t.max=i},I=e=>{const{pickerBlur:t}=n;t(e)},B=e=>{const{element:t}=s,{valueAsDate:i,value:l}=e.detail,{pickerChange:C}=n,v=l.replace(/-/g,".");s.val=v,s.date=i,d("update:modelValue",v),E(()=>{t.dispatchEvent(o),C(e)})},S=e=>{const{pickerFocus:t}=n;t(e)},x=e=>{const{pickerOpen:t}=n;document.getElementsByTagName("html")[0].classList.add("is-date-picker-opened"),a&&a.selectFocus&&a.selectFocus(!0),r&&r.selectFocus&&r.selectFocus(!0),g(!1),F(),t(e)},D=e=>{const{pickerClose:t}=n;document.getElementsByTagName("html")[0].classList.remove("is-date-picker-opened"),g(!0),F(()=>{a&&a.selectFocus&&a.selectFocus(!1),r&&r.selectFocus&&r.selectFocus(!1)}),t(e)};h(()=>n.buttonId,e=>{N(e)}),h(()=>n.modelValue,e=>{y(e)}),h(()=>n.min,e=>{b(e)}),h(()=>n.max,e=>{k(e)});const R=()=>{a&&a.checkInputed&&a.checkInputed()},M=new MutationObserver(R);return G(()=>{const{buttonId:e,onInit:t,defaultValue:i,modelValue:l,min:C,max:v}=n,c=_.value&&_.value.querySelector("duet-date-picker");if(c){const J=()=>{const P=c.querySelector('[name="date"]');M.observe(P,{attributes:!0}),O.disconnect(),c.firstDayOfWeek=0,c.localization={buttonLabel:"날짜 선택",placeholder:"연도.월.일",selectedDateMessage:"선택 된 날짜",prevMonthLabel:"이전 달",nextMonthLabel:"다음 달",monthSelectLabel:"월",yearSelectLabel:"연도",closeLabel:"닫기",calendarHeading:"날짜 선택",dayNames:["일 요일","월 요일","화 요일","수 요일","목 요일","금 요일","토 요일"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],locale:"ko-KR"},N(e),g(!0),b(C),k(v),(l||i)&&y(l||i),c.addEventListener("duetBlur",I),c.addEventListener("duetChange",B),c.addEventListener("duetFocus",S),c.addEventListener("duetOpen",x),c.addEventListener("duetClose",D),t(c)},O=new MutationObserver(J);O.observe(c,{childList:!0}),s.element=c}}),Q(()=>{const{element:e}=s;M.disconnect(),e&&(e.removeEventListener("duetBlur",I),e.removeEventListener("duetChange",B),e.removeEventListener("duetFocus",S),e.removeEventListener("duetOpen",x),e.removeEventListener("duetClose",D))}),{state:s,input:_,customClassNames:j,getElement:q,getValue:H,getDate:K,setValue:y,setMin:b,setMax:k}}},me=["title","identifier","disabled"];function pe(n,d,u,o,f,s){const a=w("IconDelete"),r=w("IconCalendar");return T(),L("div",{ref:"input",class:p([n.$style.input,{[n.$style[`input--align-${u.align}`]]:u.align,[n.$style["input--disabled"]]:u.disabled,[n.$style[`input--direction-${u.direction}`]]:u.direction},o.customClassNames.wrap])},[m("duet-date-picker",X(n.$attrs,{title:u.title,identifier:u.id,disabled:u.disabled,onChange:d[0]||(d[0]=(..._)=>u.onChange&&u.onChange(..._))}),null,16,me),m("div",{class:p([n.$style.input__dummy,o.customClassNames.dummy]),"aria-hidden":"true"},[m("div",{class:p([n.$style.input__text,o.customClassNames.text])},Y(o.state.val),3),u.isDelete?(T(),L("button",{key:0,type:"button",class:p([n.$style.input__delete,o.customClassNames.isDelete])},[A(a),m("span",{class:p([n.$style["input__delete-text"],o.customClassNames.deleteText])},"입력 내용 지우기",2)],2)):Z("",!0),m("div",{class:p([n.$style.input__icon,o.customClassNames.icon])},[A(r)],2)],2)],2)}const _e={$style:de},he=ee(re,[["render",pe],["__cssModules",_e]]);export{he as B};
