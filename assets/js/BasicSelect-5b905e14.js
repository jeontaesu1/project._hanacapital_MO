import{S as M}from"./SelectButton-1162bd0e.js";import{_ as U,U as D}from"./index-946164cb.js";import{P as W}from"./PopupTitle-6a552a55.js";import{T as q}from"./ToastPopup-e218630d.js";import{T as z}from"./ToastPopupHead-81aacca9.js";import{I as J}from"./check-l-2c27f2f8.js";import{b as K,a as j,r as F,j as w,w as G,k as Q,J as r,q as u,s as _,v as C,x as m,K as k,H as p,L as P,C as S,A as R,M as V,N as x,D as E,n as X}from"./vue-cbac8c5d.js";const Y="_select_1emmm_1",Z="_select__input_1emmm_5",$="_select__option_1emmm_10",ee={select:Y,select__input:Z,select__option:$,"select__option-list":"_select__option-list_1emmm_13","select__option-item":"_select__option-item_1emmm_18","select__option-button":"_select__option-button_1emmm_21","select__option-check":"_select__option-check_1emmm_53","select__option-item--checked":"_select__option-item--checked_1emmm_85","select--theme-sort":"_select--theme-sort_1emmm_98"},H=()=>({wrap:"",input:"",optionWrap:"",optionList:"",optionItem:"",optionButton:"",optionCheck:""}),v=()=>({value:"",text:"",disabled:!1}),te={components:{SelectButton:M,UiLayer:D,PopupTitle:W,ToastPopup:q,ToastPopupHead:z,IconCheck:J},props:{classNames:{Type:Object,default(){return H()}},buttonClassNames:{Type:Object,default:null},theme:{Type:String,default:null},option:{Type:Array,default(){return[v()]}},defaultValue:{Type:String,default:null},disabled:{Type:Boolean,default:!1},buttonTitle:{Type:String,default:null},layerTitle:{Type:String,default:null},id:{Type:String,default:null},name:{Type:String,default:null},placeholder:{Type:String,default:""},buttonId:{Type:String,default:null},openerFocusToAfterClose:{Type:Boolean,default:!0},onChange:{Type:Function,default(){return()=>{}}},onOptionClick:{Type:Function,default(){return()=>{}}},modelValue:{Type:String}},setup(t,{emit:d}){const l=t.option.map(o=>Object.assign(v(),o)),e=K({value:t.defaultValue||"",text:t.defaultValue&&l.filter(o=>o.value===t.defaultValue)[0].text||"",forcePlaceholder:!t.defaultValue}),n=j("formListItem",{}),c=j("inputBlock",{}),f=F(null),T=F(null),y=F(null),g=w(()=>{const{classNames:o}=t;return Object.assign(H(),o)}),N=w(()=>{const{option:o}=t;return o.map(i=>Object.assign(v(),i))});G(()=>t.modelValue,o=>{a(o)});const O=()=>{f.value.open(T.value.button),n&&n.selectFocus&&n.selectFocus(!0),c&&c.selectFocus&&c.selectFocus(!0)},s=o=>{e.value=o&&o.value||"",e.text=o&&o.text||"",e.forcePlaceholder=!o,f.value.close(),X(()=>{const i=new Event("change"),A=new Event("input");y.value.dispatchEvent(i),y.value.dispatchEvent(A),n&&n.checkInputed&&n.checkInputed()})},a=o=>{const{option:i}=t,L=i.map(B=>Object.assign(v(),B)).filter(B=>B.value===o);L.length?s(L[0]):s(null)},I=()=>{n&&n.selectFocus&&n.selectFocus(!1),c&&c.selectFocus&&c.selectFocus(!1)},h=o=>{d("update:modelValue",o.target.value)},b=o=>{const{onOptionClick:i}=t;i(o)};return Q(()=>{a(t.modelValue||t.defaultValue)}),{state:e,layer:f,button:T,input:y,customClassNames:g,makeOption:N,layerOpen:O,selectOption:s,setValue:a,onAfterClosed:I,onInput:h,optionClick:b}}},oe=["id","name","disabled","value"],le=["title","disabled","onClick"],ne={key:0};function se(t,d,l,e,n,c){const f=r("SelectButton"),T=r("PopupTitle"),y=r("ToastPopupHead"),g=r("IconCheck"),N=r("ToastPopup"),O=r("UiLayer");return u(),_("div",{class:m([t.$style.select,{[t.$style[`select--theme-${l.theme}`]]:l.theme},e.customClassNames.wrap])},[C("input",{type:"hidden",ref:"input",class:m([t.$style.select__input,e.customClassNames.input]),id:l.id,name:l.name,disabled:l.disabled,value:e.state.value,onChange:d[0]||(d[0]=(...s)=>l.onChange&&l.onChange(...s)),onInput:d[1]||(d[1]=(...s)=>e.onInput&&e.onInput(...s))},null,42,oe),k(f,{ref:"button",classNames:l.buttonClassNames,disabled:l.disabled,title:l.buttonTitle,placeholder:l.placeholder,forcePlaceholder:e.state.forcePlaceholder,id:l.buttonId,theme:l.theme,onClick:e.layerOpen},{default:p(()=>[P(S(e.state.text),1)]),_:1},8,["classNames","disabled","title","placeholder","forcePlaceholder","id","theme","onClick"]),k(O,{ref:"layer",type:"toast",onAfterClosed:e.onAfterClosed,backgroundClose:!0,openerFocusToAfterClose:l.openerFocusToAfterClose},{default:p(s=>[s.display!=="none"?(u(),R(N,{key:0},{head:p(()=>[k(y,null,{default:p(()=>[k(T,null,{default:p(()=>[P(S(l.layerTitle||"선택해 주세요"),1)]),_:1})]),_:1})]),default:p(()=>[C("div",{class:m([t.$style.select__option,e.customClassNames.optionWrap])},[C("ul",{class:m([t.$style["select__option-list"],e.customClassNames.optionList])},[(u(!0),_(V,null,x(e.makeOption,(a,I)=>(u(),_("li",{key:I,class:m([t.$style["select__option-item"],{[t.$style["select__option-item--checked"]]:e.state.value===a.value},e.customClassNames.optionItem])},[C("button",{type:"button",title:e.state.value===a.value?"선택 됨":null,class:m([t.$style["select__option-button"],e.customClassNames.optionButton]),disabled:a.disabled,onClick:h=>{e.selectOption(a),e.optionClick(h)}},[(u(!0),_(V,null,x(a.text.split(/\n/),(h,b)=>(u(),_(V,{key:b},[b>0?(u(),_("br",ne)):E("",!0),P(S(h),1)],64))),128)),C("span",{class:m([t.$style["select__option-check"],e.customClassNames.optionCheck])},[k(g)],2)],10,le)],2))),128))],2)],2)]),_:1})):E("",!0)]),_:1},8,["onAfterClosed","openerFocusToAfterClose"])],2)}const ae={$style:ee},pe=U(te,[["render",se],["__cssModules",ae]]);export{pe as B};
