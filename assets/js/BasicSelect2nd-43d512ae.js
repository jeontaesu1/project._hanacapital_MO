import{_ as U,U as D}from"./index-fba8762b.js";import{a as L,r as O,j as p,q as a,s as d,x as c,C as P,D as S,y as W,v as C,E as q,b as z,w as J,k as K,J as h,K as g,H as b,L as x,A as G,M as A,N as E,n as Q}from"./vue-cbac8c5d.js";import{P as R}from"./PopupTitle-bbded852.js";import{T as X}from"./ToastPopup-1f848f4a.js";import{T as Y}from"./ToastPopupHead-14eda68e.js";import{I as Z}from"./check-l-2c27f2f8.js";const $={"select-button":"_select-button_73sao_1","select-button__placeholder":"_select-button__placeholder_73sao_34","select-button__text":"_select-button__text_73sao_40","select-button__icon":"_select-button__icon_73sao_45","select-button--theme-sort":"_select-button--theme-sort_73sao_70"},M=()=>({wrap:"",text:"",icon:"",placeholder:""}),ee={inheritAttrs:!1,components:{},props:{classNames:{Type:Object,default(){return M()}},type:{Type:String,default:"button"},placeholder:{Type:String,default:null},forcePlaceholder:{Type:Boolean,default:!1},theme:{Type:String,default:null}},setup(t,u){const l=L("formListItem",{}),e=O(null),s=p(()=>{const{classNames:T}=t;return Object.assign(M(),T)}),n=p(()=>!!u.slots.default),m=p(()=>typeof t.placeholder=="string"),y=p(()=>l.selectOnly&&l.selectOnly.value),_=p(()=>l.selectTextClass);return{button:e,customClassNames:s,isText:n,isPlaceholder:m,formSelectOnly:y,formSelectTextClass:_}}},te=["type"];function le(t,u,l,e,s,n){return a(),d("button",q(t.$attrs,{ref:"button",type:l.type,class:[t.$style["select-button"],{[t.$style[`select-button--theme-${l.theme}`]]:l.theme},e.customClassNames.wrap]}),[!l.forcePlaceholder&&!e.isText&&e.isPlaceholder||l.forcePlaceholder?(a(),d("span",{key:0,class:c([t.$style["select-button__placeholder"],{[e.formSelectTextClass]:e.formSelectOnly},e.customClassNames.placeholder])},P(l.placeholder),3)):S("",!0),!e.isPlaceholder||!l.forcePlaceholder&&e.isText&&e.isPlaceholder?(a(),d("span",{key:1,class:c([t.$style["select-button__text"],{[e.formSelectTextClass]:e.formSelectOnly},e.customClassNames.text])},[W(t.$slots,"default")],2)):S("",!0),C("span",{class:c([t.$style["select-button__icon"],e.customClassNames.icon])},null,2)],16,te)}const oe={$style:$},se=U(ee,[["render",le],["__cssModules",oe]]),ne="_select_1emmm_1",ae="_select__input_1emmm_5",ce="_select__option_1emmm_10",ue={select:ne,select__input:ae,select__option:ce,"select__option-list":"_select__option-list_1emmm_13","select__option-item":"_select__option-item_1emmm_18","select__option-button":"_select__option-button_1emmm_21","select__option-check":"_select__option-check_1emmm_53","select__option-item--checked":"_select__option-item--checked_1emmm_85","select--theme-sort":"_select--theme-sort_1emmm_98"},H=()=>({wrap:"",input:"",optionWrap:"",optionList:"",optionItem:"",optionButton:"",optionCheck:""}),N=()=>({value:"",text:"",disabled:!1}),ie={components:{SelectButton2nd:se,UiLayer:D,PopupTitle:R,ToastPopup:X,ToastPopupHead:Y,IconCheck:Z},props:{classNames:{Type:Object,default(){return H()}},buttonClassNames:{Type:Object,default:null},theme:{Type:String,default:null},option:{Type:Array,default(){return[N()]}},defaultValue:{Type:String,default:null},disabled:{Type:Boolean,default:!1},buttonTitle:{Type:String,default:null},layerTitle:{Type:String,default:null},id:{Type:String,default:null},name:{Type:String,default:null},placeholder:{Type:String,default:""},buttonId:{Type:String,default:null},openerFocusToAfterClose:{Type:Boolean,default:!0},onChange:{Type:Function,default(){return()=>{}}},onOptionClick:{Type:Function,default(){return()=>{}}},modelValue:{Type:String}},setup(t,{emit:u}){const l=t.option.map(o=>Object.assign(N(),o)),e=z({value:t.defaultValue||"",text:t.defaultValue&&l.filter(o=>o.value===t.defaultValue)[0].text||"",forcePlaceholder:!t.defaultValue}),s=L("formListItem",{}),n=L("inputBlock",{}),m=O(null),y=O(null),_=O(null),T=p(()=>{const{classNames:o}=t;return Object.assign(H(),o)}),I=p(()=>{const{option:o}=t;return o.map(f=>Object.assign(N(),f))});J(()=>t.modelValue,o=>{r(o)});const B=()=>{m.value.open(y.value.button),s&&s.selectFocus&&s.selectFocus(!0),n&&n.selectFocus&&n.selectFocus(!0)},i=o=>{e.value=o&&o.value||"",e.text=o&&o.text||"",e.forcePlaceholder=!o,m.value.close(),Q(()=>{const f=new Event("change"),j=new Event("input");_.value.dispatchEvent(f),_.value.dispatchEvent(j),s&&s.checkInputed&&s.checkInputed()})},r=o=>{const{option:f}=t,w=f.map(V=>Object.assign(N(),V)).filter(V=>V.value===o);w.length?i(w[0]):i(null)},F=()=>{s&&s.selectFocus&&s.selectFocus(!1),n&&n.selectFocus&&n.selectFocus(!1)},k=o=>{u("update:modelValue",o.target.value)},v=o=>{const{onOptionClick:f}=t;f(o)};return K(()=>{r(t.modelValue||t.defaultValue)}),{state:e,layer:m,button:y,input:_,customClassNames:T,makeOption:I,layerOpen:B,selectOption:i,setValue:r,onAfterClosed:F,onInput:k,optionClick:v}}},re=["id","name","disabled","value"],de=["title","disabled","onClick"],me={key:0};function _e(t,u,l,e,s,n){const m=h("SelectButton2nd"),y=h("PopupTitle"),_=h("ToastPopupHead"),T=h("IconCheck"),I=h("ToastPopup"),B=h("UiLayer");return a(),d("div",{class:c([t.$style.select,{[t.$style[`select--theme-${l.theme}`]]:l.theme},e.customClassNames.wrap])},[C("input",{type:"hidden",ref:"input",class:c([t.$style.select__input,e.customClassNames.input]),id:l.id,name:l.name,disabled:l.disabled,value:e.state.value,onChange:u[0]||(u[0]=(...i)=>l.onChange&&l.onChange(...i)),onInput:u[1]||(u[1]=(...i)=>e.onInput&&e.onInput(...i))},null,42,re),g(m,{ref:"button",classNames:l.buttonClassNames,disabled:l.disabled,title:l.buttonTitle,placeholder:l.placeholder,forcePlaceholder:e.state.forcePlaceholder,id:l.buttonId,theme:l.theme,onClick:e.layerOpen},{default:b(()=>[x(P(e.state.text),1)]),_:1},8,["classNames","disabled","title","placeholder","forcePlaceholder","id","theme","onClick"]),g(B,{ref:"layer",type:"toast",onAfterClosed:e.onAfterClosed,backgroundClose:!0,openerFocusToAfterClose:l.openerFocusToAfterClose},{default:b(i=>[i.display!=="none"?(a(),G(I,{key:0},{head:b(()=>[g(_,null,{default:b(()=>[g(y,null,{default:b(()=>[x(P(l.layerTitle||"선택해 주세요"),1)]),_:1})]),_:1})]),default:b(()=>[C("div",{class:c([t.$style.select__option,e.customClassNames.optionWrap])},[C("ul",{class:c([t.$style["select__option-list"],e.customClassNames.optionList])},[(a(!0),d(A,null,E(e.makeOption,(r,F)=>(a(),d("li",{key:F,class:c([t.$style["select__option-item"],{[t.$style["select__option-item--checked"]]:e.state.value===r.value},e.customClassNames.optionItem])},[C("button",{type:"button",title:e.state.value===r.value?"선택 됨":null,class:c([t.$style["select__option-button"],e.customClassNames.optionButton]),disabled:r.disabled,onClick:k=>{e.selectOption(r),e.optionClick(k)}},[(a(!0),d(A,null,E(r.text.split(/\n/),(k,v)=>(a(),d(A,{key:v},[v>0?(a(),d("br",me)):S("",!0),x(P(k),1)],64))),128)),C("span",{class:c([t.$style["select__option-check"],e.customClassNames.optionCheck])},[g(T)],2)],10,de)],2))),128))],2)],2)]),_:1})):S("",!0)]),_:1},8,["onAfterClosed","openerFocusToAfterClose"])],2)}const fe={$style:ue},ke=U(ie,[["render",_e],["__cssModules",fe]]);export{ke as B};
