{"version":3,"file":"UiAccordion-91f89684.js","sources":["../../../../src/components/ui/accordion/UiAccordion.vue"],"sourcesContent":["<script>\nimport {\n  computed,\n  useCssModule,\n  provide,\n  reactive,\n  watch,\n  onMounted,\n} from 'vue';\n\nconst defaultClassNames = () => ({\n  wrap: '',\n});\n\nconst defaultSpeed = 350;\n\nexport default {\n  props: {\n    tagName: {\n      Type: String,\n      default: 'ul',\n    },\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n    once: {\n      Type: Boolean,\n      default: false,\n    },\n    defaultSpeed: {\n      Type: Number,\n      default: defaultSpeed,\n    },\n    onBeforeOpened: {\n      Type: Function,\n      default() {\n        return () => {};\n      },\n    },\n    onOpened: {\n      Type: Function,\n      default() {\n        return () => {};\n      },\n    },\n    onAfterOpened: {\n      Type: Function,\n      default() {\n        return () => {};\n      },\n    },\n    onBeforeClosed: {\n      Type: Function,\n      default() {\n        return () => {};\n      },\n    },\n    onClosed: {\n      Type: Function,\n      default() {\n        return () => {};\n      },\n    },\n    onAfterClosed: {\n      Type: Function,\n      default() {\n        return () => {};\n      },\n    },\n  },\n  setup(props) {\n    const state = reactive({\n      items: [],\n      count: 0,\n      defaultSpeed: {\n        value: defaultSpeed,\n      },\n      once: {\n        value: false,\n      },\n      callback: {},\n    });\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const itemsAdd = (obj) => {\n      const key = obj.key || state.count;\n\n      state.items.push(\n        Object.assign({}, obj, {\n          key,\n        })\n      );\n\n      state.count++;\n\n      return key;\n    };\n\n    const itemsRemove = (key) => {\n      const i = state.items.findIndex((item) => item.key === key);\n\n      state.items.splice(i, 1);\n    };\n\n    const allOpen = (speed) => {\n      if (props.once) {\n        if (state.items[0]) {\n          state.items[0].open(speed);\n        }\n      } else {\n        state.items.forEach((item) => {\n          item.open(speed);\n        });\n      }\n    };\n\n    const allClose = (speed) => {\n      state.items.forEach((item) => {\n        item.close(speed);\n      });\n    };\n\n    onMounted(() => {\n      state.defaultSpeed.value = props.defaultSpeed;\n      state.once.value = props.once;\n      state.callback.onBeforeOpened = props.onBeforeOpened;\n      state.callback.onOpened = props.onOpened;\n      state.callback.onAfterOpened = props.onAfterOpened;\n      state.callback.onBeforeClosed = props.onBeforeClosed;\n      state.callback.onClosed = props.onClosed;\n      state.callback.onAfterClosed = props.onAfterClosed;\n    });\n\n    watch(\n      () => props.defaultSpeed,\n      (cur) => {\n        state.defaultSpeed.value = cur;\n      }\n    );\n    watch(\n      () => props.once,\n      (cur) => {\n        state.once.value = cur;\n      }\n    );\n    watch(\n      () => props.onBeforeOpened,\n      (cur) => {\n        state.callback.onBeforeOpened = cur;\n      }\n    );\n    watch(\n      () => props.onOpened,\n      (cur) => {\n        state.callback.onOpened = cur;\n      }\n    );\n    watch(\n      () => props.onAfterOpened,\n      (cur) => {\n        state.callback.onAfterOpened = cur;\n      }\n    );\n    watch(\n      () => props.onBeforeClosed,\n      (cur) => {\n        state.callback.onBeforeClosed = cur;\n      }\n    );\n    watch(\n      () => props.onClosed,\n      (cur) => {\n        state.callback.onClosed = cur;\n      }\n    );\n    watch(\n      () => props.onAfterClosed,\n      (cur) => {\n        state.callback.onAfterClosed = cur;\n      }\n    );\n\n    provide('uiAccordionStyleModule', useCssModule());\n    provide('uiAccordion', {\n      items: state.items,\n      itemsAdd,\n      itemsRemove,\n      openedClassName: 'is-accordion-opened',\n      defaultSpeed: state.defaultSpeed,\n      once: state.once,\n      callback: state.callback,\n    });\n\n    return {\n      state,\n      customClassNames,\n      allOpen,\n      allClose,\n    };\n  },\n};\n</script>\n\n<template>\n  <component\n    :is=\"tagName\"\n    :class=\"[$style['accordion'], customClassNames.wrap]\"\n  >\n    <slot :allOpen=\"allOpen\" :allClose=\"allClose\" :items=\"state.items\" />\n  </component>\n</template>\n\n<style lang=\"scss\" module>\n@import '@/assets/scss/components/ui/accordion/UiAccordion.scss';\n</style>\n"],"names":["defaultClassNames","defaultSpeed","_sfc_main","props","state","reactive","customClassNames","computed","classNames","itemsAdd","obj","key","itemsRemove","i","item","allOpen","speed","allClose","onMounted","watch","cur","provide","useCssModule","_createBlock","_resolveDynamicComponent","$props","_normalizeClass","_ctx","$setup","_withCtx","_renderSlot"],"mappings":"2ZAUMA,EAAoB,KAAO,CAC/B,KAAM,EACR,GAEMC,EAAe,IAEhBC,EAAU,CACb,MAAO,CACL,QAAS,CACP,KAAM,OACN,QAAS,IACV,EACD,WAAY,CACV,KAAM,OACN,SAAU,CACR,OAAOF,EAAiB,CACzB,CACF,EACD,KAAM,CACJ,KAAM,QACN,QAAS,EACV,EACD,aAAc,CACZ,KAAM,OACN,QAASC,CACV,EACD,eAAgB,CACd,KAAM,SACN,SAAU,CACR,MAAO,IAAM,CAAA,CACd,CACF,EACD,SAAU,CACR,KAAM,SACN,SAAU,CACR,MAAO,IAAM,CAAA,CACd,CACF,EACD,cAAe,CACb,KAAM,SACN,SAAU,CACR,MAAO,IAAM,CAAA,CACd,CACF,EACD,eAAgB,CACd,KAAM,SACN,SAAU,CACR,MAAO,IAAM,CAAA,CACd,CACF,EACD,SAAU,CACR,KAAM,SACN,SAAU,CACR,MAAO,IAAM,CAAA,CACd,CACF,EACD,cAAe,CACb,KAAM,SACN,SAAU,CACR,MAAO,IAAM,CAAA,CACd,CACF,CACF,EACD,MAAME,EAAO,CACX,MAAMC,EAAQC,EAAS,CACrB,MAAO,CAAE,EACT,MAAO,EACP,aAAc,CACZ,MAAOJ,CACR,EACD,KAAM,CACJ,MAAO,EACR,EACD,SAAU,CAAE,CACd,CAAC,EAEKK,EAAmBC,EAAS,IAAM,CACtC,KAAM,CAAE,WAAAC,CAAW,EAAIL,EACvB,OAAO,OAAO,OAAOH,EAAmB,EAAEQ,CAAU,CACtD,CAAC,EAEKC,EAAYC,GAAQ,CACxB,MAAMC,EAAMD,EAAI,KAAON,EAAM,MAE7B,OAAAA,EAAM,MAAM,KACV,OAAO,OAAO,CAAE,EAAEM,EAAK,CACrB,IAAAC,EACD,GAGHP,EAAM,QAECO,GAGHC,EAAeD,GAAQ,CAC3B,MAAME,EAAIT,EAAM,MAAM,UAAWU,GAASA,EAAK,MAAQH,CAAG,EAE1DP,EAAM,MAAM,OAAOS,EAAG,CAAC,GAGnBE,EAAWC,GAAU,CACrBb,EAAM,KACJC,EAAM,MAAM,CAAC,GACfA,EAAM,MAAM,CAAC,EAAE,KAAKY,CAAK,EAG3BZ,EAAM,MAAM,QAASU,GAAS,CAC5BA,EAAK,KAAKE,CAAK,CACjB,CAAC,GAICC,EAAYD,GAAU,CAC1BZ,EAAM,MAAM,QAASU,GAAS,CAC5BA,EAAK,MAAME,CAAK,CAClB,CAAC,GAGH,OAAAE,EAAU,IAAM,CACdd,EAAM,aAAa,MAAQD,EAAM,aACjCC,EAAM,KAAK,MAAQD,EAAM,KACzBC,EAAM,SAAS,eAAiBD,EAAM,eACtCC,EAAM,SAAS,SAAWD,EAAM,SAChCC,EAAM,SAAS,cAAgBD,EAAM,cACrCC,EAAM,SAAS,eAAiBD,EAAM,eACtCC,EAAM,SAAS,SAAWD,EAAM,SAChCC,EAAM,SAAS,cAAgBD,EAAM,aACvC,CAAC,EAEDgB,EACE,IAAMhB,EAAM,aACXiB,GAAQ,CACPhB,EAAM,aAAa,MAAQgB,CAC7B,GAEFD,EACE,IAAMhB,EAAM,KACXiB,GAAQ,CACPhB,EAAM,KAAK,MAAQgB,CACrB,GAEFD,EACE,IAAMhB,EAAM,eACXiB,GAAQ,CACPhB,EAAM,SAAS,eAAiBgB,CAClC,GAEFD,EACE,IAAMhB,EAAM,SACXiB,GAAQ,CACPhB,EAAM,SAAS,SAAWgB,CAC5B,GAEFD,EACE,IAAMhB,EAAM,cACXiB,GAAQ,CACPhB,EAAM,SAAS,cAAgBgB,CACjC,GAEFD,EACE,IAAMhB,EAAM,eACXiB,GAAQ,CACPhB,EAAM,SAAS,eAAiBgB,CAClC,GAEFD,EACE,IAAMhB,EAAM,SACXiB,GAAQ,CACPhB,EAAM,SAAS,SAAWgB,CAC5B,GAEFD,EACE,IAAMhB,EAAM,cACXiB,GAAQ,CACPhB,EAAM,SAAS,cAAgBgB,CACjC,GAGFC,EAAQ,yBAA0BC,EAAY,CAAE,EAChDD,EAAQ,cAAe,CACrB,MAAOjB,EAAM,MACb,SAAAK,EACA,YAAAG,EACA,gBAAiB,sBACjB,aAAcR,EAAM,aACpB,KAAMA,EAAM,KACZ,SAAUA,EAAM,QAClB,CAAC,EAEM,CACL,MAAAA,EACA,iBAAAE,EACA,QAAAS,EACA,SAAAE,EAEH,CACH,qCAIEM,EAnNFC,EAoNSC,EAAO,OAAA,EAAA,CACX,MArNLC,EAqNa,CAAAC,EAAA,OAAqB,UAAAC,EAAA,iBAAiB,IAAI,CAAA,IArNvD,QAAAC,EAuNI,IAAqE,CAArEC,EAAqEH,EAAA,OAAA,UAAA,CAA9D,QAASC,EAAO,QAAG,SAAUA,EAAQ,SAAG,MAAOA,EAAK,MAAC,UAvNhE,EAAA"}