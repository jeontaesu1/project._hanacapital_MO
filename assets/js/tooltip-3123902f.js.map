{"version":3,"file":"tooltip-3123902f.js","sources":["../../../../src/components/ui/tooltip/BasicTooltip.vue","../../../../src/assets/images/icon/tooltip.svg?component"],"sourcesContent":["<script>\nimport {\n  computed,\n  ref,\n  reactive,\n  onMounted,\n  onBeforeUnmount,\n  nextTick,\n} from 'vue';\n\nconst defaultClassNames = () => ({\n  wrap: '',\n  button: '',\n  bubble: '',\n  tail: '',\n});\n\nexport default {\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n    placement: {\n      Type: String,\n      default: 'top',\n    },\n    fit: {\n      Type: Boolean,\n      default: false,\n    },\n  },\n  setup(props) {\n    const state = reactive({\n      show: false,\n      top: 0,\n      tailLeft: 0,\n      isBubbleClick: false,\n      isButtonClick: false,\n    });\n\n    const button = ref(null);\n    const bubble = ref(null);\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const setPosition = () => {\n      if (!state.show) return;\n\n      const { placement } = props;\n      const buttonEl = button.value;\n      const bubbleEl = bubble.value;\n      const width = buttonEl.offsetWidth;\n      const bubbleW = bubbleEl.offsetWidth;\n      const left = (() => {\n        const left = buttonEl.offsetLeft - 20 + width / 2;\n        const max = bubbleW - 22;\n\n        if (left < 22) {\n          return 22;\n        } else if (left > max) {\n          return max;\n        } else {\n          return left;\n        }\n      })();\n\n      if (placement === 'bottom') {\n        state.top = 0;\n      } else {\n        state.top = buttonEl.offsetHeight + 12;\n      }\n\n      state.tailLeft = left;\n    };\n\n    const toggle = () => {\n      state.show = !state.show;\n\n      nextTick(() => {\n        setPosition();\n      });\n    };\n\n    const open = () => {\n      state.show = true;\n\n      nextTick(() => {\n        setPosition();\n      });\n    };\n\n    const close = () => {\n      state.show = false;\n\n      nextTick(() => {\n        setPosition();\n      });\n    };\n\n    const bodyClick = () => {\n      if (!state.isBubbleClick && !state.isButtonClick) {\n        close();\n      }\n\n      state.isBubbleClick = false;\n      state.isButtonClick = false;\n    };\n\n    const bubbleClick = () => {\n      state.isBubbleClick = true;\n    };\n\n    const onClick = () => {\n      toggle();\n      state.isButtonClick = true;\n    };\n\n    const onKeyup = (e) => {\n      const { keyCode } = e;\n\n      switch (keyCode) {\n        case 13:\n        case 32:\n          toggle();\n          break;\n        default:\n          break;\n      }\n    };\n\n    onMounted(() => {\n      const body = document.getElementsByTagName('body')[0];\n\n      setPosition();\n\n      body.addEventListener('click', bodyClick);\n      window.addEventListener('resize', setPosition);\n      window.addEventListener('orientationchange', setPosition);\n    });\n\n    onBeforeUnmount(() => {\n      const body = document.getElementsByTagName('body')[0];\n\n      body.removeEventListener('click', bodyClick);\n      window.removeEventListener('resize', setPosition);\n      window.removeEventListener('orientationchange', setPosition);\n    });\n\n    return {\n      state,\n      button,\n      bubble,\n      customClassNames,\n      toggle,\n      open,\n      close,\n      onClick,\n      onKeyup,\n      bubbleClick,\n    };\n  },\n};\n</script>\n\n<template>\n  <div\n    :class=\"[\n      $style['tooltip'],\n      {\n        [$style['tooltip--bottom']]: placement === 'bottom',\n        [$style['tooltip--fit']]: fit,\n        'is-show': state.show,\n      },\n      customClassNames.wrap,\n    ]\"\n  >\n    <div\n      ref=\"button\"\n      :class=\"[$style['tooltip__button'], customClassNames.button]\"\n      tabindex=\"0\"\n      role=\"button\"\n      @click=\"onClick\"\n      @keyup=\"onKeyup\"\n    >\n      <slot />\n    </div>\n    <div\n      ref=\"bubble\"\n      :class=\"[$style['tooltip__bubble'], customClassNames.bubble]\"\n      :style=\"`margin-top: -${state.top}px;`\"\n      @click=\"bubbleClick\"\n    >\n      <div\n        :class=\"[$style['tooltip__tail'], customClassNames.tail]\"\n        :style=\"`left: ${state.tailLeft}px;`\"\n      />\n      <slot name=\"contents\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@/assets/scss/components/ui/tooltip/BasicTooltip.scss';\n</style>\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"22\",\n  height: \"22\",\n  fill: \"none\",\n  viewBox: \"0 0 22 22\"\n}\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _cache[0] || (_cache[0] = [\n    _createElementVNode(\"path\", {\n      fill: \"#9E9E9E\",\n      d: \"M20.165 11a9.167 9.167 0 1 1-18.333 0 9.167 9.167 0 0 1 18.333 0\"\n    }, null, -1),\n    _createElementVNode(\"path\", {\n      fill: \"#fff\",\n      d: \"M10.902 5.5q.77 0 1.383.2.612.185 1.04.541.428.343.657.828.228.485.228 1.069v.157q0 .342-.086.656-.072.3-.27.613-.186.313-.528.67-.33.357-.828.813-.314.285-.498.499a2 2 0 0 0-.286.385q-.1.171-.128.356a2.5 2.5 0 0 0-.029.4q0 .328-.256.513a.9.9 0 0 1-.57.185 1.1 1.1 0 0 1-.614-.17q-.256-.186-.256-.571 0-.37.042-.67t.157-.57q.129-.285.357-.557.242-.285.627-.627.443-.385.699-.642.27-.27.413-.485.143-.213.186-.385.042-.184.042-.399v-.071q0-.228-.085-.428a1 1 0 0 0-.271-.356 1.16 1.16 0 0 0-.47-.243q-.285-.1-.713-.1-.57 0-.999.171a4 4 0 0 0-.812.442q-.285.2-.57.143a.86.86 0 0 1-.471-.342.9.9 0 0 1-.2-.57q.015-.33.3-.542a4.2 4.2 0 0 1 1.211-.656q.7-.257 1.598-.257m-.186 8.84q.456 0 .77.314.315.314.314.77 0 .457-.314.77-.314.315-.77.314-.456 0-.77-.314a1.05 1.05 0 0 1-.314-.77q0-.456.314-.77.314-.313.77-.313\"\n    }, null, -1)\n  ])))\n}\nexport default { render: render }"],"names":["defaultClassNames","_sfc_main","props","state","reactive","button","ref","bubble","customClassNames","computed","classNames","setPosition","placement","buttonEl","bubbleEl","width","bubbleW","left","max","toggle","nextTick","open","close","bodyClick","bubbleClick","onClick","onKeyup","e","keyCode","onMounted","body","onBeforeUnmount","_createElementBlock","_normalizeClass","_ctx","$props","$setup","_createElementVNode","args","_renderSlot","_normalizeStyle","_hoisted_1","render","_cache","_openBlock","IconTooltip"],"mappings":"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"}