{"version":3,"file":"PageContents-53c44440.js","sources":["../../../../src/components/ui/layout/PageContents.vue"],"sourcesContent":["<script>\nimport {\n  computed,\n  reactive,\n  onBeforeMount,\n  onUpdated,\n  onMounted,\n  onBeforeUnmount,\n  ref,\n  provide,\n} from 'vue';\n\nconst defaultClassNames = () => ({\n  wrap: '',\n  head: '',\n  body: '',\n  foot: '',\n});\n\nconst isSlot = (slot) => {\n  if (!slot || typeof slot !== 'function') return false;\n\n  const items = slot();\n  let vIfLength = 0;\n\n  items.forEach((item) => item.children === 'v-if' && vIfLength++);\n\n  return items.length !== vIfLength;\n};\n\nconst eResize = new Event('resize');\nconst resizeObserver = new ResizeObserver((entries) => {\n  entries[0].target.dispatchEvent(eResize);\n});\n\nexport default {\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n  },\n  setup(props, { slots }) {\n    const state = reactive({\n      wrap: {\n        value: null,\n      },\n      slots: {},\n    });\n\n    const wrap = ref(null);\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const isHead = computed(() => {\n      return isSlot(state.slots.head);\n    });\n\n    const isFoot = computed(() => {\n      return isSlot(state.slots.foot);\n    });\n\n    onBeforeMount(() => {\n      state.slots.head = slots.head;\n      state.slots.foot = slots.foot;\n      state.wrap.value = wrap;\n    });\n\n    onMounted(() => {\n      resizeObserver.observe(wrap.value);\n    });\n\n    onUpdated(() => {\n      state.slots.head = slots.head;\n      state.slots.foot = slots.foot;\n    });\n\n    onBeforeUnmount(() => {\n      resizeObserver.unobserve(wrap.value);\n    });\n\n    provide('pageContents', {\n      wrap: state.wrap,\n    });\n\n    return {\n      wrap,\n      customClassNames,\n      isHead,\n      isFoot,\n    };\n  },\n};\n</script>\n\n<template>\n  <div ref=\"wrap\" :class=\"[$style['page-contents'], customClassNames.wrap]\">\n    <div\n      v-if=\"isHead\"\n      :class=\"[$style['page-contents__head'], customClassNames.head]\"\n    >\n      <slot name=\"head\" />\n    </div>\n    <div :class=\"[$style['page-contents__body'], customClassNames.body]\">\n      <slot />\n    </div>\n    <div\n      v-if=\"isFoot\"\n      :class=\"[$style['page-contents__foot'], customClassNames.foot]\"\n    >\n      <slot name=\"foot\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@/assets/scss/components/ui/layout/PageContents.scss';\n</style>\n"],"names":["defaultClassNames","isSlot","slot","items","vIfLength","item","eResize","resizeObserver","entries","_sfc_main","props","slots","state","reactive","wrap","ref","customClassNames","computed","classNames","isHead","isFoot","onBeforeMount","onMounted","onUpdated","onBeforeUnmount","provide","_createElementBlock","_normalizeClass","_ctx","$setup","_renderSlot","_createElementVNode"],"mappings":"+XAYMA,EAAoB,KAAO,CAC/B,KAAM,GACN,KAAM,GACN,KAAM,GACN,KAAM,EACR,GAEMC,EAAUC,GAAS,CACvB,GAAI,CAACA,GAAQ,OAAOA,GAAS,WAAY,MAAO,GAEhD,MAAMC,EAAQD,IACd,IAAIE,EAAY,EAEhB,OAAAD,EAAM,QAASE,GAASA,EAAK,WAAa,QAAUD,GAAW,EAExDD,EAAM,SAAWC,CAC1B,EAEME,EAAU,IAAI,MAAM,QAAQ,EAC5BC,EAAiB,IAAI,eAAgBC,GAAY,CACrDA,EAAQ,CAAC,EAAE,OAAO,cAAcF,CAAO,CACzC,CAAC,EAEIG,EAAU,CACb,MAAO,CACL,WAAY,CACV,KAAM,OACN,SAAU,CACR,OAAOT,EAAiB,CACzB,CACF,CACF,EACD,MAAMU,EAAO,CAAE,MAAAC,GAAS,CACtB,MAAMC,EAAQC,EAAS,CACrB,KAAM,CACJ,MAAO,IACR,EACD,MAAO,CAAE,CACX,CAAC,EAEKC,EAAOC,EAAI,IAAI,EAEfC,EAAmBC,EAAS,IAAM,CACtC,KAAM,CAAE,WAAAC,CAAW,EAAIR,EACvB,OAAO,OAAO,OAAOV,EAAmB,EAAEkB,CAAU,CACtD,CAAC,EAEKC,EAASF,EAAS,IACfhB,EAAOW,EAAM,MAAM,IAAI,CAC/B,EAEKQ,EAASH,EAAS,IACfhB,EAAOW,EAAM,MAAM,IAAI,CAC/B,EAED,OAAAS,EAAc,IAAM,CAClBT,EAAM,MAAM,KAAOD,EAAM,KACzBC,EAAM,MAAM,KAAOD,EAAM,KACzBC,EAAM,KAAK,MAAQE,CACrB,CAAC,EAEDQ,EAAU,IAAM,CACdf,EAAe,QAAQO,EAAK,KAAK,CACnC,CAAC,EAEDS,EAAU,IAAM,CACdX,EAAM,MAAM,KAAOD,EAAM,KACzBC,EAAM,MAAM,KAAOD,EAAM,IAC3B,CAAC,EAEDa,EAAgB,IAAM,CACpBjB,EAAe,UAAUO,EAAK,KAAK,CACrC,CAAC,EAEDW,EAAQ,eAAgB,CACtB,KAAMb,EAAM,IACd,CAAC,EAEM,CACL,KAAAE,EACA,iBAAAE,EACA,OAAAG,EACA,OAAAC,EAEH,CACH,qCAIEM,EAgBM,MAAA,CAhBD,IAAI,OAAQ,MAAQC,EAAA,CAAAC,EAAA,OAAyB,eAAA,EAAAC,EAAA,iBAAiB,IAAI,CAAA,IAE7DA,EAAM,YADdH,EAKM,MAAA,OAHH,MAAQC,EAAA,CAAAC,EAAA,OAA+B,qBAAA,EAAAC,EAAA,iBAAiB,IAAI,CAAA,IAE7DC,EAAoBF,EAAA,OAAA,MAAA,gBAEtBG,EAEM,MAAA,CAFA,MAAQJ,EAAA,CAAAC,EAAA,OAA+B,qBAAA,EAAAC,EAAA,iBAAiB,IAAI,CAAA,IAChEC,EAAQF,EAAA,OAAA,SAAA,MAGFC,EAAM,YADdH,EAKM,MAAA,OAHH,MAAQC,EAAA,CAAAC,EAAA,OAA+B,qBAAA,EAAAC,EAAA,iBAAiB,IAAI,CAAA,IAE7DC,EAAoBF,EAAA,OAAA,MAAA"}