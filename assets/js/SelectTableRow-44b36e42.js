import{b as R,r as h,j as k,k as M,w as y,p as C,u as E,q as u,s as b,v as d,C as H,x as i,y as _,D as T,a as O,F as j,l as D,n as B}from"./vue-cbac8c5d.js";import{_ as A}from"./index-0dbdbc1f.js";const V={"basic-table":"_basic-table_ftx5u_1","border-right":"_border-right_ftx5u_44","al-right":"_al-right_ftx5u_61","basic-table__left-line":"_basic-table__left-line_ftx5u_80","basic-table__padding-none":"_basic-table__padding-none_ftx5u_83","select-table":"_select-table_ftx5u_107","select-table__caption":"_select-table__caption_ftx5u_114","select-table__head":"_select-table__head_ftx5u_132","select-table__body":"_select-table__body_ftx5u_136","select-table__radio":"_select-table__radio_ftx5u_141","select-table__radio-text":"_select-table__radio-text_ftx5u_183","select-table--disabled":"_select-table--disabled_ftx5u_215","select-table--maxrow-5":"_select-table--maxrow-5_ftx5u_218"},N=()=>({wrap:"",head:"",body:"",caption:"",table:"",disabled:""}),q={props:{classNames:{Type:Object,default(){return N()}},once:{Type:Boolean,default:!0},label:{Type:String,default:null},captionId:{Type:String,default:null},caption:{Type:String,default:null},disabled:{Type:Boolean,default:!1},maxRow:{Type:Number,default:5},onSelected:{Type:Function,default(){return()=>{}}},onUnSelected:{Type:Function,default(){return()=>{}}}},setup(e,s){let l=!1,t=!1;const a=R({items:[],count:0,once:{value:!1},callback:{}}),n=h(null),o=h(null),S=k(()=>{const{classNames:c}=e;return Object.assign(N(),c)}),v=k(()=>!!s.slots.head),r=k(()=>!!s.slots.colgroup),f=c=>{const m=a.count;return a.items.push(Object.assign({},c,{key:m})),a.count++,m},g=c=>{const m=a.items.findIndex(L=>L.key===c);a.items.splice(m,1)},w=()=>{e.once?a.items[0]&&a.items[0].select():a.items.forEach(c=>{c.select()})},x=()=>{a.items.forEach(c=>{c.unSelect()})},F=()=>{t||(l=!0,o.value.scrollLeft=n.value.scrollLeft,l=!1)},I=()=>{l||(t=!0,n.value.scrollLeft=o.value.scrollLeft,t=!1)};return M(()=>{a.once.value=e.once,a.callback.onSelected=e.onSelected,a.callback.onUnSelected=e.onUnSelected}),y(()=>e.once,c=>{a.once.value=c}),y(()=>e.onSelected,c=>{a.callback.onSelected=c}),y(()=>e.onUnSelected,c=>{a.callback.onUnSelected=c}),C("selectTableStyleModule",E()),C("selectTable",{items:a.items,itemsAdd:f,itemsRemove:g,allSelect:w,allUnSelect:x,once:a.once,callback:a.callback}),{head:n,body:o,customClassNames:S,isHead:v,isColgroup:r,allSelect:w,allUnSelect:x,headScroll:F,bodyScroll:I}}},z=["aria-label","aria-describedby"],G=["id"],J={role:"rowgroup"},K={key:0},P={role:"rowgroup"},Q={key:0};function W(e,s,l,t,a,n){return u(),b("div",{class:i([e.$style["select-table"],{[e.$style["select-table--disabled"]]:l.disabled,[t.customClassNames.disabled]:l.disabled,[e.$style[`select-table--maxrow-${l.maxRow}`]]:l.maxRow},t.customClassNames.wrap]),role:"table","aria-label":l.label,"aria-describedby":l.captionId},[d("div",{class:i([e.$style["select-table__caption"],t.customClassNames.caption]),id:l.captionId},H(l.caption),11,G),t.isHead?(u(),b("div",{key:0,ref:"head",class:i([e.$style["select-table__head"],t.customClassNames.head]),onScroll:s[0]||(s[0]=(...o)=>t.headScroll&&t.headScroll(...o))},[d("div",{class:i([e.$style["basic-table"],t.customClassNames.table])},[d("table",J,[t.isColgroup?(u(),b("colgroup",K,[_(e.$slots,"colgroup")])):T("",!0),d("thead",null,[_(e.$slots,"head")])])],2)],34)):T("",!0),d("div",{ref:"body",class:i([e.$style["select-table__body"],t.customClassNames.body]),onScroll:s[1]||(s[1]=(...o)=>t.bodyScroll&&t.bodyScroll(...o))},[d("div",{class:i([e.$style["basic-table"],t.customClassNames.table])},[d("table",P,[t.isColgroup?(u(),b("colgroup",Q,[_(e.$slots,"colgroup")])):T("",!0),d("tbody",null,[_(e.$slots,"default")])])],2)],34)],10,z)}const X={$style:V},le=A(q,[["render",W],["__cssModules",X]]),U=(e,s,l)=>{e&&e.callback&&e.callback[s]&&e.callback[s](l)},Y={props:{initialActive:{Type:Boolean,default:!1},onSelected:{Type:Function,default(){return()=>{}}},onUnSelected:{Type:Function,default(){return()=>{}}},action:{Type:Boolean,default:!0},actionType:{Type:String,default:"toggle"},disabled:{Type:Boolean,default:!1}},setup(e){const s=O("selectTable",{}),l=R({key:null,selected:{value:!1},disabled:{value:!1},radioClick:!1}),t=h(null),a=()=>{l.selected.value||(s.once.value&&s.allUnSelect(),l.selected.value=!0,B(()=>{e.onSelected(t),U(s,"onSelected",t)}))},n=()=>{l.selected.value&&(l.selected.value=!1,B(()=>{e.onUnSelected(t),U(s,"onUnSelected",t)}))},o=()=>{l.selected.value?n():a()},S=()=>{const{disabled:r,actionType:f}=e,{radioClick:g}=l;!r&&!g&&(f==="toggle"?o():f==="select"&&a()),l.radioClick=!1},v=()=>{l.radioClick=!0};return j(()=>{l.disabled.value=e.disabled}),M(()=>{s&&s.itemsAdd&&(l.key=s.itemsAdd({select:a,unSelect:n,toggle:o})),e.initialActive&&a()}),D(()=>{s&&s.itemsRemove&&s.itemsRemove(l.key)}),y(()=>e.disabled,r=>{l.disabled.value=r}),C("selectTableRow",{disabled:l.disabled,selected:l.selected,select:a,unSelect:n,toggle:o,radioClick:v}),{state:l,row:t,select:a,unSelect:n,toggle:o,click:S}}},Z=["tabindex","title"];function p(e,s,l,t,a,n){return u(),b("tr",{ref:"row",tabindex:l.disabled?"-1":"0",class:i([{"is-selected":t.state.selected.value,"is-disabled":l.disabled}]),onClick:s[0]||(s[0]=()=>{l.action&&t.click()}),title:t.state.selected.value?"선택 됨":null},[_(e.$slots,"default",{select:t.select,unSelect:t.unSelect,toggle:t.toggle,selected:t.state.selected.value})],10,Z)}const te=A(Y,[["render",p]]);export{le as S,te as a};
