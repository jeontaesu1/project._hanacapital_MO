{"version":3,"file":"tooltip-e6573e35.js","sources":["../../../../src/components/ui/tooltip/BasicTooltip.vue","../../../../src/assets/images/icon/tooltip.svg?component"],"sourcesContent":["<script>\nimport {\n  computed,\n  ref,\n  reactive,\n  onMounted,\n  onBeforeUnmount,\n  nextTick,\n} from 'vue';\n\nconst defaultClassNames = () => ({\n  wrap: '',\n  button: '',\n  bubble: '',\n  tail: '',\n});\n\nexport default {\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n    placement: {\n      Type: String,\n      default: 'top',\n    },\n    fit: {\n      Type: Boolean,\n      default: false,\n    },\n  },\n  setup(props) {\n    const state = reactive({\n      show: false,\n      top: 0,\n      tailLeft: 0,\n      isBubbleClick: false,\n      isButtonClick: false,\n    });\n\n    const button = ref(null);\n    const bubble = ref(null);\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const setPosition = () => {\n      if (!state.show) return;\n\n      const { placement } = props;\n      const buttonEl = button.value;\n      const bubbleEl = bubble.value;\n      const width = buttonEl.offsetWidth;\n      const bubbleW = bubbleEl.offsetWidth;\n      const left = (() => {\n        const left = buttonEl.offsetLeft - 20 + width / 2;\n        const max = bubbleW - 22;\n\n        if (left < 22) {\n          return 22;\n        } else if (left > max) {\n          return max;\n        } else {\n          return left;\n        }\n      })();\n\n      if (placement === 'bottom') {\n        state.top = 0;\n      } else {\n        state.top = buttonEl.offsetHeight + 12;\n      }\n\n      state.tailLeft = left;\n    };\n\n    const toggle = () => {\n      state.show = !state.show;\n\n      nextTick(() => {\n        setPosition();\n      });\n    };\n\n    const open = () => {\n      state.show = true;\n\n      nextTick(() => {\n        setPosition();\n      });\n    };\n\n    const close = () => {\n      state.show = false;\n\n      nextTick(() => {\n        setPosition();\n      });\n    };\n\n    const bodyClick = () => {\n      if (!state.isBubbleClick && !state.isButtonClick) {\n        close();\n      }\n\n      state.isBubbleClick = false;\n      state.isButtonClick = false;\n    };\n\n    const bubbleClick = () => {\n      state.isBubbleClick = true;\n    };\n\n    const onClick = () => {\n      toggle();\n      state.isButtonClick = true;\n    };\n\n    const onKeyup = (e) => {\n      const { keyCode } = e;\n\n      switch (keyCode) {\n        case 13:\n        case 32:\n          toggle();\n          break;\n        default:\n          break;\n      }\n    };\n\n    onMounted(() => {\n      const body = document.getElementsByTagName('body')[0];\n\n      setPosition();\n\n      body.addEventListener('click', bodyClick);\n      window.addEventListener('resize', setPosition);\n      window.addEventListener('orientationchange', setPosition);\n    });\n\n    onBeforeUnmount(() => {\n      const body = document.getElementsByTagName('body')[0];\n\n      body.removeEventListener('click', bodyClick);\n      window.removeEventListener('resize', setPosition);\n      window.removeEventListener('orientationchange', setPosition);\n    });\n\n    return {\n      state,\n      button,\n      bubble,\n      customClassNames,\n      toggle,\n      open,\n      close,\n      onClick,\n      onKeyup,\n      bubbleClick,\n    };\n  },\n};\n</script>\n\n<template>\n  <div\n    :class=\"[\n      $style['tooltip'],\n      {\n        [$style['tooltip--bottom']]: placement === 'bottom',\n        [$style['tooltip--fit']]: fit,\n        'is-show': state.show,\n      },\n      customClassNames.wrap,\n    ]\"\n  >\n    <div\n      ref=\"button\"\n      :class=\"[$style['tooltip__button'], customClassNames.button]\"\n      tabindex=\"0\"\n      role=\"button\"\n      @click=\"onClick\"\n      @keyup=\"onKeyup\"\n    >\n      <slot />\n    </div>\n    <div\n      ref=\"bubble\"\n      :class=\"[$style['tooltip__bubble'], customClassNames.bubble]\"\n      :style=\"`margin-top: -${state.top}px;`\"\n      @click=\"bubbleClick\"\n    >\n      <div\n        :class=\"[$style['tooltip__tail'], customClassNames.tail]\"\n        :style=\"`left: ${state.tailLeft}px;`\"\n      />\n      <slot name=\"contents\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@/assets/scss/components/ui/tooltip/BasicTooltip.scss';\n</style>\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"22\",\n  height: \"22\",\n  fill: \"none\",\n  viewBox: \"0 0 22 22\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#9E9E9E\",\n  d: \"M20.165 11a9.167 9.167 0 1 1-18.333 0 9.167 9.167 0 0 1 18.333 0Z\"\n}, null, -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#fff\",\n  d: \"M10.902 5.5c.513 0 .974.067 1.383.2.408.123.755.304 1.04.541.286.229.504.504.657.828.152.323.228.68.228 1.069v.157c0 .228-.029.447-.086.656-.048.2-.138.404-.27.613-.124.209-.3.432-.528.67-.22.238-.495.509-.828.813-.209.19-.375.356-.498.499a1.902 1.902 0 0 0-.286.385c-.066.114-.11.233-.128.356a2.459 2.459 0 0 0-.029.4c0 .218-.085.39-.256.513a.912.912 0 0 1-.57.185 1.08 1.08 0 0 1-.614-.17c-.17-.124-.256-.314-.256-.571 0-.247.014-.47.042-.67.029-.2.081-.39.157-.57.086-.19.205-.376.357-.557.161-.19.37-.399.627-.627.295-.257.528-.47.699-.642.18-.18.318-.342.413-.485.095-.142.157-.27.186-.385.028-.123.042-.256.042-.399v-.071c0-.152-.028-.295-.085-.428a.964.964 0 0 0-.271-.356 1.156 1.156 0 0 0-.47-.243c-.19-.066-.428-.1-.713-.1-.38 0-.713.057-.999.171a3.972 3.972 0 0 0-.812.442c-.19.134-.38.181-.57.143a.856.856 0 0 1-.471-.342.907.907 0 0 1-.2-.57c.01-.22.11-.4.3-.542a4.244 4.244 0 0 1 1.211-.656c.466-.171.999-.257 1.598-.257Zm-.186 8.84c.304 0 .561.105.77.314.21.21.314.466.314.77 0 .305-.105.561-.314.77-.209.21-.466.314-.77.314s-.56-.104-.77-.314a1.047 1.047 0 0 1-.314-.77c0-.304.105-.56.314-.77.21-.209.466-.313.77-.313Z\"\n}, null, -1)\nconst _hoisted_4 = [\n  _hoisted_2,\n  _hoisted_3\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, [..._hoisted_4]))\n}\nexport default { render: render }"],"names":["defaultClassNames","_sfc_main","props","state","reactive","button","ref","bubble","customClassNames","computed","classNames","setPosition","placement","buttonEl","bubbleEl","width","bubbleW","left","max","toggle","nextTick","open","close","bodyClick","bubbleClick","onClick","onKeyup","e","keyCode","onMounted","body","onBeforeUnmount","_createElementBlock","_normalizeClass","_ctx","$props","$setup","_createElementVNode","args","_renderSlot","_normalizeStyle","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","render","_cache","_openBlock","IconTooltip"],"mappings":"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"}